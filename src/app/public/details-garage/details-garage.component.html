<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  <title>Document</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
        integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="
        crossorigin=""/>
  <!-- Make sure you put this AFTER Leaflet's CSS -->
  <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"
          integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
          crossorigin=""></script>
</head>
<body>
<main *ngIf="garage">
  <section id="banner_list_garages " >
    <div class="banner_list_garages d-flex flex-row p-md-5 p-3"
         style="background-image: url('../../../assets/images/istockphotobackground.jpg');">
        <div class="div_img_garage">
          <img src="{{urlImage}}{{garage.image}}" class="img-fluid" alt="image garage">
        </div>
        <div class="mx-5" >
          <h2 class="text-white">Nom Garage: {{garage.nom}}</h2>
          <p class="text-white my-2">Adresse: {{garage.adresse}}</p>
          <div class="my-1 text-warning mt-4">
            <ngb-rating [max]="5" [rate]="moyenneAvis" [readonly]="true" style="font-size: 24px"></ngb-rating>
          </div>
          <p class="text-white" *ngIf="nbreAvis && moyenneAvis">
            <span class="me-2">{{moyenneAvis}}</span>
            <span>{{nbreAvis}} avis</span>
          </p>
        </div>
    </div>
  </section>
  <section class="container">
      <div class="row mt-5">
          <div class="col-12 col-md-7 mx-2">
            <div class="card_detail_garage mb-2 bg-white">
              <p class="ms-4">{{garage.description}}</p>
            </div>
            <div class="card_detail_garage1  bg-white"><p class="ms-4">
              <div class="ms-4">
                <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="25" height="25" preserveAspectRatio="xMidYMid meet" viewBox="0 0 1024 1024"><path fill="#000054" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448s448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372s372 166.6 372 372s-166.6 372-372 372z"/><path fill="#000054" d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"/></svg>
                <span class="fw-semibold ms-3">Heures d'ouverture</span>
                <span class="fw-semibold ms-5">{{garage.heureOurverture}}</span>
              </div>
              <div class="ms-4">
                <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="25" height="25" preserveAspectRatio="xMidYMid meet" viewBox="0 0 1024 1024"><path fill="#000054" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448s448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372s372 166.6 372 372s-166.6 372-372 372z"/><path fill="#000054" d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"/></svg>
                <span class="fw-semibold ms-3">Heures d'ouverture</span>
                <span class="fw-semibold ms-5">{{garage.heureFermeture}}</span>
              </div>
              <div class="ms-4">
                <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="25" height="25" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="#000054" d="M20 10.999h2C22 5.869 18.127 2 12.99 2v2C17.052 4 20 6.943 20 10.999z"/><path fill="#000054" d="M13 8c2.103 0 3 .897 3 3h2c0-3.225-1.775-5-5-5v2zm3.422 5.443a1.001 1.001 0 0 0-1.391.043l-2.393 2.461c-.576-.11-1.734-.471-2.926-1.66c-1.192-1.193-1.553-2.354-1.66-2.926l2.459-2.394a1 1 0 0 0 .043-1.391L6.859 3.513a1 1 0 0 0-1.391-.087l-2.17 1.861a1 1 0 0 0-.29.649c-.015.25-.301 6.172 4.291 10.766C11.305 20.707 16.323 21 17.705 21c.202 0 .326-.006.359-.008a.992.992 0 0 0 .648-.291l1.86-2.171a1 1 0 0 0-.086-1.391l-4.064-3.696z"/>
                </svg>
                <span class="fw-semibold ms-3">{{garage.telephone}} : {{garage.id}}</span>
              </div>
            </div>
            <div class="card_detail_garage1  bg-white"><h5 class="ms-4" >
              Nos Services
              <div class="card_detail_garage1  bg-white" *ngFor="let service of garage.services">{{service.libelle}}</div>
            </h5></div>
            <div class="card_detail_garage1  bg-white" *ngFor="let note of garage.notes">
              <div class="ms-4 d-flex flex-row justify-content-between">
                  <div class="my-1 text-warning">
                    <ngb-rating [max]="5" [rate]="note.note" [readonly]="true" style="font-size: 24px"></ngb-rating>
                  </div>
                <h6 class="my-1 fw-semibold">{{note.nomClient}}</h6>
                <span class="my-1 me-5">publier le: {{note.dateNote}}</span>
              </div>
              <p class="px-5 py-2">{{note.commentaire}}
              </p>
            </div>
            <div class="card_detail_garage1  bg-white d-flex justify-content-center">
              <button class="btn m-0 m-auto">Vois plus d'avis</button>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div id="map">
              <!--<img src="../../../assets/images/imgmaps.gif" class="img-fluid w-100">-->
            </div>
            <div class="card_detail_garage1 mb-2 bg-white text-center my-1"><p class="ms-4">{{garage.adresse}}</p></div>
            <div class="card_detail_garage1 mb-2 bg-white px-2 my-1">
              <h5 class="text-center">Votre Avis:</h5>
              <form [formGroup]="addNote" (ngSubmit)="saveNote()">
                <div class="form-group mt-1">
                  <input type="text" formControlName="nomClient" class="form-control" name="nomClient" id="nomClient" placeholder="Votre Nom">
                  <div *ngIf="controleSaisie['nomClient'].touched && controleSaisie['nomClient'].invalid">
                    <p *ngIf="controleSaisie['nomClient'].errors && controleSaisie['nomClient'].errors['required']" class="text-danger">
                      * Le champs est obligatoire
                    </p>
                  </div>
                </div>
                <div class="form-group mt-1">
                  <input type="nomber" formControlName="telephone" class="form-control" name="telephone" id="telephone" placeholder="Votre telephone">
                  <div *ngIf="controleSaisie['telephone'].touched && controleSaisie['telephone'].invalid">
                    <p *ngIf="controleSaisie['telephone'].errors && controleSaisie['telephone'].errors['required']" class="text-danger">
                      * Le champs est obligatoire
                    </p>
                  </div>
                </div>
                <div class="form-group mt-1">
                  <input type="email" formControlName="email" class="form-control" name="email" id="email" placeholder="name@example.com" required>
                  <div *ngIf="controleSaisie['email'].touched && controleSaisie['email'].invalid">
                    <p *ngIf="controleSaisie['email'].errors && controleSaisie['email'].errors['required']" class="text-danger">
                      * Le champs est obligatoire
                    </p>
                  </div>
                </div>
                <div class="form-group mt-1">
                  <input type="email" formControlName="note" class="form-control" name="email" id="note" placeholder="name@example.com" [hidden]="true">
                </div>
                <div class="row">
                  <div class="col-sm-12">
                    <ul class="list-inline rating-list" *ngFor="let star of stars" style="display: inline-block" >
                      <li (click)="countStar(star)"
                          [ngClass]="{'selected': (star <= selectedValue)}" >
                        <i class="fa fa-star"></i>
                      </li>
                    </ul>
                  </div>
                </div>

                <div class="form-group mt-1">
                  <label for="commentaire">Commentaire</label>
                  <textarea class="form-control" formControlName="commentaire" name="commentaire" id="commentaire" rows="3"></textarea>
                  <div *ngIf="controleSaisie['commentaire'].touched && controleSaisie['commentaire'].invalid">
                    <p *ngIf="controleSaisie['commentaire'].errors && controleSaisie['commentaire'].errors['required']" class="text-danger">
                      * Le champs est obligatoire
                    </p>
                  </div>
                </div>
                <div class="style-btn-envoyer my-2">
                  <button class="btn text-white w-75 save-btn" style="background-color: #000054">Enregistrer</button>
                </div>
              </form>
            </div>
          </div>
      </div>
  </section>
  <section>
    <div class="div_plus_de_garage my-5  d-flex flex-column justify-content-center">
      <h3 class="text-center text-white">Trouvez des garage pr√®s de Grand Dakar</h3>
      <button routerLink="/ListGarage" class="btn_enregistrer_votre_garage">Trouvez un garage</button>
    </div>
  </section>
</main>
<script src="https://code.iconify.design/2/2.2.1/iconify.min.js"></script>
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/iconify/2.0.0/iconify.min.js" integrity="sha512-lYMiwcB608+RcqJmP93CMe7b4i9G9QK1RbixsNu4PzMRJMsqr/bUrkXUuFzCNsRUo3IXNUr5hz98lINURv5CNA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>
